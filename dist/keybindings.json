[
  // The keybindings are based on windows machine, cmd = cmd, ctrl = cmd on MacOS

  /* -------------------------------------------------------------------------- */
  /*                                  EXPLORER                                  */
  /* -------------------------------------------------------------------------- */
  {
    "key": "cmd+n",
    "command": "explorer.newFile",
    "when": "filesExplorerFocus && !inputFocus"
  },
  {
    "key": "cmd+shift+n",
    "command": "explorer.newFolder",
    "when": "filesExplorerFocus && !inputFocus"
  },
  {
    "key": "c",
    "command": "list.collapseAll",
    "when": "filesExplorerFocus && listFocus && !inputFocus"
  },
  {
    "command": "renameFile",
    "key": "r",
    "when": "filesExplorerFocus && !inputFocus"
  },
  {
    "command": "deleteFile",
    "key": "d",
    "when": "filesExplorerFocus && !inputFocus"
  },
  {
    "key": "left",
    "command": "list.collapse",
    "when": "sideBarFocus && !inputFocus"
  },
  {
    "key": "right",
    "command": "list.expand",
    "when": "sideBarFocus && !inputFocus"
  },
  {
    "key": "enter",
    "command": "list.toggleExpand",
    "when": "listFocus && !inputFocus && !treestickyScrollFocused && filesExplorerFocus"
  },
  {
    "key": "ctrl+enter",
    "command": "search.action.focusNextSearchResult",
    "when": "hasSearchResult || inSearchEditor"
  },
  {
    "key": "ctrl+shift+enter",
    "command": "search.action.focusPreviousSearchResult",
    "when": "hasSearchResult || inSearchEditor"
  },
  {
    "key": "ctrl+r",
    "command": "references-view.next",
    "when": "reference-list.hasResult && references-view.canNavigate"
  },
  {
    "key": "ctrl+shift+r",
    "command": "references-view.prev",
    "when": "reference-list.hasResult && references-view.canNavigate"
  },
  {
    "key": "shift+tab",
    "command": "editor.action.inlineSuggest.acceptNextWord",
    "when": "inlineSuggestionVisible && !editorReadonly"
  },

  /* -------------------------------------------------------------------------- */
  /*                                  TERMINAL                                  */
  /* -------------------------------------------------------------------------- */
  {
    "key": "cmd+t",
    "command": "workbench.action.terminal.toggleTerminal"
  },
  {
    "key": "cmd+n",
    "command": "workbench.action.terminal.new",
    "when": "terminalFocus"
  },
  {
    "key": "cmd+w",
    "command": "workbench.action.terminal.kill",
    "when": "terminalFocus"
  },
  {
    "key": "ctrl+tab",
    "command": "workbench.action.terminal.focusNext",
    "when": "terminalFocus"
  },
  {
    "key": "ctrl+shift+tab",
    "command": "workbench.action.terminal.focusPrevious",
    "when": "terminalFocus"
  },

  /* -------------------------------------------------------------------------- */
  /*                                     GIT                                    */
  /* -------------------------------------------------------------------------- */
  {
    "key": "ctrl+d",
    "command": "editor.action.dirtydiff.next",
    "when": "editorTextFocus && !textCompareEditorActive"
  },
  {
    "key": "ctrl+shift+d",
    "command": "editor.action.dirtydiff.previous",
    "when": "editorTextFocus && !textCompareEditorActive"
  },
  {
    "key": "ctrl+n",
    "command": "workbench.action.compareEditor.nextChange",
    "when": "textCompareEditorVisible"
  },
  {
    "key": "ctrl+shift+n",
    "command": "workbench.action.compareEditor.previousChange",
    "when": "textCompareEditorVisible"
  },
  {
    "key": "ctrl+o",
    "command": "git.openFile",
    "when": "textCompareEditorVisible"
  },
  {
    "key": "ctrl+y",
    "command": "git.checkout"
  },
  {
    "key": "ctrl+shift+y",
    "command": "git.checkoutDetached"
  },

  /* -------------------------------------------------------------------------- */
  /*                                ctrl UTILITIES                               */
  /* -------------------------------------------------------------------------- */
  // {
  //   "key": "ctrl+enter",
  //   "command": "github.copilot.generate",
  //   "when": "editorTextFocus && github.copilot.activated"
  // },
  {
    "key": "ctrl+c",
    "command": "turboConsoleLog.displayLogMessage"
  },
  {
    "key": "ctrl+g",
    "command": "projectManager.listProjects"
  },
  {
    "key": "ctrl+shift+g",
    "command": "projectManager.listProjectsNewWindow"
  },
  {
    "key": "ctrl+p",
    "command": "copyRelativeFilePath"
  },
  {
    "key": "ctrl+z",
    "command": "editor.action.quickFix",
    "when": "editorHasCodeActionsProvider && editorTextFocus && !editorReadonly"
  },
  // {
  //   "key": "ctrl+s",
  //   "command": "gitlens.openWorkingFile"
  // },

  // {
  //   "key": "ctrl+f3",
  //   "command": "gitlens.diffLineWithPrevious",
  //   "when": "editorTextFocus && !textCompareEditorActive"
  // },

  /* -------------------------------------------------------------------------- */
  /*                               cmd UTILITIES                               */
  /* -------------------------------------------------------------------------- */
  {
    "key": "cmd+enter",
    "command": "editor.action.insertLineAfter",
    "when": "editorTextFocus && !editorReadonly"
  },
  {
    "key": "cmd+backspace",
    "command": "deleteWordPartLeft",
    "when": "textInputFocus && vim.mode === 'Insert'"
  },
  {
    "key": "cmd+shift+s",
    "command": "saveAll",
    "when": "editorTextFocus"
  },
  // {
  //   "key": "cmd+e",
  //   "command": "workbench.action.toggleEditorWidths",
  //   "when": "editorFocus"
  // },

  /* -------------------------------------------------------------------------- */
  /*                          VIM EXTENSION ENHANCEMENT                         */
  /* -------------------------------------------------------------------------- */
  {
    "key": "pagedown",
    "command": "vim.remap",
    "when": "vim.mode == 'Normal' || vim.mode == 'VisualLine' || vim.mode == 'Visual'",
    "args": {
      "after": ["<C-d>", "z", "z"]
    }
  },
  {
    "key": "pageup",
    "command": "vim.remap",
    "when": "vim.mode == 'Normal' || vim.mode == 'VisualLine' || vim.mode == 'Visual'",
    "args": {
      "after": ["<C-u>", "z", "z"]
    }
  },

  /* ----- Leader key simulation, need to be in sync with keybindings.json ---- */
  {
    "key": "space space",
    "command": "workbench.action.quickOpen",
    "when": "!editorFocus && !inputFocus && vim.active"
  },
  {
    "key": "escape",
    "command": "workbench.action.closeSidebar",
    "when": "!editorFocus && !panelFocus && sideBarVisible"
  },
  {
    "key": "escape",
    "command": "workbench.action.closePanel",
    "when": "panelFocus"
  },
  {
    "key": "shift+escape",
    "command": "runCommands",
    "args": {
      "commands": [
        "workbench.action.closeSidebar",
        "workbench.action.closePanel"
      ]
    }
  },
  {
    "key": "space e",
    "command": "workbench.files.action.focusFilesExplorer",
    "when": "!editorFocus && !inputFocus && vim.active"
  },
  {
    "key": "space g",
    "command": "workbench.view.scm",
    "when": "!editorFocus && !inputFocus && vim.active"
  },
  // {
  //   "key": "ctrl+shift+c",
  //   "command": "gitlens.views.commits.focus"
  // },
  {
    "key": "space /",
    "command": "workbench.action.quickTextSearch",
    "when": "!editorFocus && !inputFocus && vim.active"
  },
  {
    "key": "space f",
    "command": "workbench.action.findInFiles",
    "when": "!editorFocus && !inputFocus && vim.active"
  },
  {
    "key": "space r",
    "command": "workbench.action.replaceInFiles",
    "when": "!editorfocus && !inputFocus && vim.active"
  },
  {
    "key": "space t",
    "command": "todo-tree-view.focus",
    "when": "!editorfocus && !inputFocus && vim.active"
  },
  {
    "key": "space c",
    "command": "workbench.panel.chat.view.edits.focus",
    "when": "!editorfocus && !inputFocus && vim.active"
  },
  {
    "key": "space x",
    "command": "workbench.view.extensions",
    "when": "!editorfocus && !inputFocus && vim.active"
  },
  {
    "key": "space d",
    "command": "workbench.view.debug",
    "when": "!editorfocus && !inputFocus && vim.active"
  },
  {
    "key": "space p",
    "command": "workbench.action.focusPanel",
    "when": "!editorfocus && !inputFocus && vim.active"
  },
  {
    "key": "space l",
    "command": "workbench.action.showCommands",
    "when": "!editorfocus && !inputFocus && vim.active"
  },
  {
    "key": "cmd+p",
    "command": "workbench.action.toggleMaximizedPanel",
    "when": "panelFocus"
  },

  {
    "key": "ctrl+o",
    "command": "workbench.action.navigateBack",
    "when": "canNavigateBack && !textCompareEditorActive"
  },
  {
    "key": "ctrl+i",
    "command": "workbench.action.navigateForward",
    "when": "canNavigateForward"
  },
  {
    "key": "cmd+shift+m",
    "command": "workbench.action.focusLeftGroup",
    "when": "vim.mode === 'Normal'"
  },
  {
    "key": "cmd+shift+n",
    "command": "workbench.action.focusBelowGroup",
    "when": "vim.mode === 'Normal'"
  },
  {
    "key": "cmd+shift+e",
    "command": "workbench.action.focusAboveGroup",
    "when": "vim.mode === 'Normal'"
  },
  {
    "key": "cmd+shift+i",
    "command": "workbench.action.focusRightGroup",
    "when": "vim.mode === 'Normal'"
  },
  {
    "key": "/",
    "command": "list.find",
    "when": "listFocus && listSupportsFind"
  },
  {
    "key": "ctrl+shift+p",
    "command": "workbench.action.pinEditor",
    "when": "!activeEditorIsPinned "
  },
  {
    "key": "ctrl+shift+p",
    "command": "workbench.action.unpinEditor",
    "when": "activeEditorIsPinned "
  },
  /* -------------------------------------------------------------------------- */
  /*                                    TABS                                    */
  /* -------------------------------------------------------------------------- */
  {
    "key": "ctrl+tab",
    "command": "workbench.action.nextEditorInGroup",
    "when": "!terminalFocus"
  },
  {
    "key": "ctrl+shift+tab",
    "command": "workbench.action.previousEditorInGroup",
    "when": "!terminalFocus"
  },
  // {
  //   "key": "cmd+shift+m",
  //   "command": "workbench.action.moveEditorLeftInGroup"
  // },
  // {
  //   "key": "cmd+shift+i",
  //   "command": "workbench.action.moveEditorRightInGroup"
  // },
  {
    "key": "cmd+shift+w",
    "command": "workbench.action.closeOtherEditors"
  },
  {
    "key": "cmd+shift+q",
    "command": "workbench.action.closeEditorsToTheRight"
  },
  {
    "key": "cmd+r",
    "command": "workbench.action.files.revert"
  },

  /* -------------------------------------------------------------------------- */
  /*                            AVOID ZOOM MISCLICKS                            */
  /* -------------------------------------------------------------------------- */
  {
    "key": "cmd+="
  },
  {
    "key": "cmd+-"
  },

  /* -------------------------------------------------------------------------- */
  /*                                FUNCTION_KEYS                               */
  /* -------------------------------------------------------------------------- */
  {
    "key": "f5",
    "command": "workbench.action.reloadWindow"
  },
  {
    "key": "f12",
    "command": "workbench.action.toggleDevTools"
  },
  // {
  //   "key": "f2",
  //   "command": "workbench.action.debug.disconnect",
  //   "when": "focusedSessionIsAttach && inDebugMode"
  // },
  // {
  //   "key": "f5",
  //   "command": "workbench.action.debug.start",
  //   "when": "debuggersAvailable && debugState == 'inactive'"
  // },
  {
    "key": "cmd+space",
    "command": "editor.action.triggerSuggest"
  }
]
